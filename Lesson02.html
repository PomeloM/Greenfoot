<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Lesson02：案例研究─沙灘螃蟹(1) &mdash; greenfoot 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="greenfoot 1.0 documentation" href="index.html" />
    <link rel="next" title="Lesson03：案例研究─沙灘螃蟹(2)" href="Lesson03.html" />
    <link rel="prev" title="Lesson01:案例研究─袋熊吃樹葉" href="Lesson01.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="lesson02-1">
<h1>Lesson02：案例研究─沙灘螃蟹(1)<a class="headerlink" href="#lesson02-1" title="Permalink to this headline">¶</a></h1>
<p><a class="reference download internal" href="https://drive.google.com/open?id=0B8fsh0D6-sHnQ2UtQnFyWUJNUXM"><code class="xref download docutils literal"><span class="pre">案例下載(.zip)</span></code></a></p>
<p>本案例出自Michael Kölling(2009).Introduction to Programming with Greenfoot.</p>
<p>開啟範例檔案crab。</p>
<img alt="_images/003_001.png" src="_images/003_001.png" />
<p>下圖為專案中所包含的類別：</p>
<img alt="_images/003_002.png" src="_images/003_002.png" />
<ol class="arabic simple">
<li>Actor是多數專案均會具備的類別。</li>
<li>Animal與Actor間的連結符號代表繼承，所以Animal 類別繼承Actor類別。同樣地，Crab繼承Animal，繼承階層(level）可跨越多個，故可說Crab繼承Actor。</li>
</ol>
<div class="section" id="id1">
<h2>1.讓螃蟹往前移動。<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>查看Crab類別的原始程式碼。</p>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">greenfoot.*</span><span class="o">;</span>  <span class="c1">// （ World 、 Actor 、 GreenfootImage 及 Greenfoot ）</span>

<span class="cm">/**</span>
<span class="cm"> * 螃蟹類別的定義。螃蟹生活在沙灘上。</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Crab</span> <span class="kd">extends</span> <span class="n">Animal</span>
<span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">act</span><span class="o">()</span>
    <span class="o">{</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>請在act()方法的 <strong>{ }</strong> 當中加入一行 <strong>move( );</strong> 如下：</p>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">greenfoot.*</span><span class="o">;</span>  <span class="c1">// （ World 、 Actor 、 GreenfootImage 及 Greenfoot ）</span>

<span class="cm">/**</span>
<span class="cm"> * 螃蟹類別的定義。螃蟹生活在沙灘上。</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Crab</span> <span class="kd">extends</span> <span class="n">Animal</span>
<span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">act</span><span class="o">()</span>
    <span class="o">{</span>
<span class="hll">        <span class="n">move</span><span class="o">();</span>
</span>    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p><strong>move()</strong> 方法是定義在Animal類別中，因為Crab繼承了Animal，所以可以使用這個方法，它會讓螃蟹往前移動一點點。</p>
<p><strong>;</strong> 號代表句子結束。</p>
<p>按下「編譯全部」重新編譯。</p>
<p>在世界中建立一個Crab物件，分別按下「單步執行」及「執行」按鈕並觀察Crab的行為。</p>
<p>在世界中建立多個Crab物件，分別按「單步執行」及「執行」按鈕，觀察這些Crab物件的行為。</p>
</div>
<div class="section" id="id2">
<h2>2.讓螃蟹轉彎<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Animal類別中所定義的另一個與螃蟹動作有關的方法：</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre>void turn (int angle)
</pre></div>
</div>
<p>angle的值可介於0~359之間，代表螃蟹右轉的角度。</p>
<ol class="arabic simple" start="2">
<li>移除 <strong>move( );</strong> 改成呼叫 <strong>turn(5);</strong> ，試著傳遞各種不同的值給turn方法。</li>
<li>方法的傳入值稱為參數(parameter)。</li>
</ol>
</div>
<div class="section" id="id3">
<h2>3.讓螃蟹移動加上轉彎<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">greenfoot.*</span><span class="o">;</span>  <span class="c1">// （ World 、 Actor 、 GreenfootImage 及 Greenfoot ）</span>

<span class="cm">/**</span>
<span class="cm"> * 螃蟹類別的定義。螃蟹生活在沙灘上。</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Crab</span> <span class="kd">extends</span> <span class="n">Animal</span>
<span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">act</span><span class="o">()</span>
    <span class="o">{</span>
<span class="hll">        <span class="n">move</span><span class="o">();</span>
</span><span class="hll">		<span class="n">turn</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span>
</span>    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>在8~12行的act方法中，先呼叫 <strong>move( )</strong> ，再呼叫 <strong>turn(5)</strong></p>
<p>電腦會先執行move方法，再執行turn方法，即指令依由上而下的順序執行，但因move及turn動作很快，視覺效果上會以為同時發生。</p>
</div>
<div class="section" id="id4">
<h2>4.讓螃蟹遇到邊界能自動轉彎<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>查看Animal類別中有哪些方法可用？</p>
<p>以「說明文件」的模式檢視</p>
<img alt="_images/003_003.png" src="_images/003_003.png" />
<ol class="arabic simple">
<li>建立一隻螃蟹，從選單選取 <strong>atWorldEdge()</strong> 方法，回傳值是什麼？</li>
<li>建立一隻螃蟹並將螃蟹移到邊界，再從選單選取 <strong>atWorldEdge()</strong> 方法，回傳值是什麼？</li>
<li>修正程式，讓螃蟹遇邊界時轉彎</li>
</ol>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">greenfoot.*</span><span class="o">;</span>  <span class="c1">// （ World 、 Actor 、 GreenfootImage 及 Greenfoot ）</span>

<span class="cm">/**</span>
<span class="cm"> * 螃蟹類別的定義。螃蟹生活在沙灘上。</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Crab</span> <span class="kd">extends</span> <span class="n">Animal</span>
<span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">act</span><span class="o">()</span>
    <span class="o">{</span>
        <span class="n">move</span><span class="o">();</span>
        
<span class="hll">        <span class="c1">//遇到邊緣就轉彎</span>
</span><span class="hll">        <span class="k">if</span> <span class="o">(</span><span class="n">atWorldEdge</span><span class="o">())</span> <span class="o">{</span>
</span><span class="hll">            <span class="n">turn</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span>
</span><span class="hll">        <span class="o">}</span>
</span>    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<p>程式語法：單向選擇結構</p>
<div class="highlight-python"><div class="highlight"><pre>if  (條件式)
{
    程式敘述;
}
</pre></div>
</div>
<p>我們可以依據某條件是否成立，來決定是否執行區塊中的程式敘述。</p>
<p>條件式判斷結果是 <strong>布林值</strong> ，布林值只有True或False兩種值，這兩種值應用在條件判斷時，可用來代表條件成立或條件不成立兩種情形。</p>
<img alt="_images/003_004.png" src="_images/003_004.png" />
</div>
<div class="section" id="id5">
<h2>5.讓螃蟹隨機轉彎<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>我們希望螃蟹會隨機地轉彎，可以使用亂數來完成此項功能。</p>
<p>在功能表中，選取「幫助」─「Greenfoot類別說明文件」可以查閱Greenfoot所提供的方法。</p>
<img alt="_images/003_011.png" src="_images/003_011.png" />
<p>在Greenfoot類別中，有提供一個取亂數的方法，呼叫後可以取得 0 到 limit - 1 間的亂數。</p>
<div class="highlight-python"><div class="highlight"><pre>static int      getRandomNumber(int limit)
</pre></div>
</div>
<p>假設螃蟹有10%的機率會轉彎，我們可以使用if敘述來完成：</p>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">greenfoot.*</span><span class="o">;</span>  <span class="c1">// （ World 、 Actor 、 GreenfootImage 及 Greenfoot ）</span>

<span class="cm">/**</span>
<span class="cm"> * 螃蟹類別的定義。螃蟹生活在沙灘上。</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Crab</span> <span class="kd">extends</span> <span class="n">Animal</span>
<span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">act</span><span class="o">()</span>
    <span class="o">{</span>
        <span class="n">move</span><span class="o">();</span>

        <span class="c1">//遇到邊緣就轉彎</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">atWorldEdge</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">turn</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span>
        <span class="o">}</span>

<span class="hll">        <span class="c1">//隨機轉彎</span>
</span><span class="hll">        <span class="k">if</span> <span class="o">(</span><span class="n">Greenfoot</span><span class="o">.</span><span class="na">getRandomNumber</span><span class="o">(</span><span class="mi">100</span><span class="o">)</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">)</span> <span class="o">{</span>
</span><span class="hll">            <span class="n">turn</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span>
</span><span class="hll">        <span class="o">}</span>
</span>    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id6">
<h2>6.增加螃蟹可以吃的蟲<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>在Animal類別中，按下滑鼠右鍵，從選單中選取「新建子類別」。</li>
</ol>
<img alt="_images/003_005.png" src="_images/003_005.png" />
<ol class="arabic simple" start="2">
<li>輸入類別名稱「Worm」(注意：類別名稱的命名慣例以大寫字母開始)，選取圖片「worm.png」後，按下「ok」。</li>
</ol>
<img alt="_images/003_006.png" src="_images/003_006.png" />
<p>類別名稱的命名規則(此為慣例，無強制性)如下：</p>
<ol class="arabic simple">
<li>類別名稱的第一個字母應為大寫。</li>
<li>名稱若由兩個以上單字組合，則每個單字第一個字母都應大寫。</li>
<li>若類別名稱為英文縮寫時，則全部字母應都為大寫。</li>
</ol>
<p>新增一隻螃蟹，五隻蟲</p>
<p>在場景的空白處按下右鍵，選取「儲存World」，這樣每次重新編譯後就會產生現有的物件。</p>
<img alt="_images/003_007.png" src="_images/003_007.png" />
<p>儲存之後，會自動在CrabWorld類別中加入程式碼</p>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">greenfoot.*</span><span class="o">;</span>  <span class="c1">// (Actor, World, Greenfoot, GreenfootImage)</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CrabWorld</span> <span class="kd">extends</span> <span class="n">World</span>
<span class="o">{</span>
    <span class="cm">/**</span>
<span class="cm">     * 建立螃蟹的世界（沙灘）。螃蟹的世界有 560×560 格方格，每格方格大</span>
<span class="cm">     * 小為 1×1 點。</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="nf">CrabWorld</span><span class="o">()</span> 
    <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="mi">560</span><span class="o">,</span> <span class="mi">560</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>

<span class="hll">        <span class="n">prepare</span><span class="o">();</span>
</span>    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * 準備應用程式啟動時的世界, 也就是：建立一開始的世界</span>
<span class="cm">     * 物件以及將它們加到世界中</span>
<span class="cm">     */</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">prepare</span><span class="o">()</span>
    <span class="o">{</span>
<span class="hll">        <span class="n">Crab</span> <span class="n">crab</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Crab</span><span class="o">();</span>
</span><span class="hll">        <span class="n">addObject</span><span class="o">(</span><span class="n">crab</span><span class="o">,</span> <span class="mi">235</span><span class="o">,</span> <span class="mi">280</span><span class="o">);</span>
</span><span class="hll">        <span class="n">Worm</span> <span class="n">worm</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Worm</span><span class="o">();</span>
</span><span class="hll">        <span class="n">addObject</span><span class="o">(</span><span class="n">worm</span><span class="o">,</span> <span class="mi">184</span><span class="o">,</span> <span class="mi">133</span><span class="o">);</span>
</span><span class="hll">        <span class="n">Worm</span> <span class="n">worm2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Worm</span><span class="o">();</span>
</span><span class="hll">        <span class="n">addObject</span><span class="o">(</span><span class="n">worm2</span><span class="o">,</span> <span class="mi">352</span><span class="o">,</span> <span class="mi">130</span><span class="o">);</span>
</span><span class="hll">        <span class="n">Worm</span> <span class="n">worm3</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Worm</span><span class="o">();</span>
</span><span class="hll">        <span class="n">addObject</span><span class="o">(</span><span class="n">worm3</span><span class="o">,</span> <span class="mi">392</span><span class="o">,</span> <span class="mi">317</span><span class="o">);</span>
</span><span class="hll">        <span class="n">Worm</span> <span class="n">worm4</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Worm</span><span class="o">();</span>
</span><span class="hll">        <span class="n">addObject</span><span class="o">(</span><span class="n">worm4</span><span class="o">,</span> <span class="mi">156</span><span class="o">,</span> <span class="mi">403</span><span class="o">);</span>
</span><span class="hll">        <span class="n">Worm</span> <span class="n">worm5</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Worm</span><span class="o">();</span>
</span><span class="hll">        <span class="n">addObject</span><span class="o">(</span><span class="n">worm5</span><span class="o">,</span> <span class="mi">95</span><span class="o">,</span> <span class="mi">248</span><span class="o">);</span>
</span>    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id7">
<h2>7.如何讓螃蟹可以看見並且吃掉的蟲<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>以Document 模式檢視Animal類別內容時，將看到以下兩個方法：</li>
</ol>
<p>用於判斷是否遇見特定型態的物件</p>
<div class="highlight-python"><div class="highlight"><pre>boolean  canSee (java.lang.Class  clss)
</pre></div>
</div>
<p>用於吃掉指定型態的物件</p>
<div class="highlight-python"><div class="highlight"><pre>void  eat (java.lang.Class  clss)
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>將程式碼(第22~25行)加到Crab類別act方法中：</li>
</ol>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">greenfoot.*</span><span class="o">;</span>  <span class="c1">// （ World 、 Actor 、 GreenfootImage 及 Greenfoot ）</span>

<span class="cm">/**</span>
<span class="cm"> * 螃蟹類別的定義。螃蟹生活在沙灘上。</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Crab</span> <span class="kd">extends</span> <span class="n">Animal</span>
<span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">act</span><span class="o">()</span>
    <span class="o">{</span>
        <span class="n">move</span><span class="o">();</span>

        <span class="c1">//遇到邊緣就轉彎</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">atWorldEdge</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">turn</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="c1">//隨機轉彎</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">Greenfoot</span><span class="o">.</span><span class="na">getRandomNumber</span><span class="o">(</span><span class="mi">100</span><span class="o">)</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">turn</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span>
        <span class="o">}</span>
        
<span class="hll">        <span class="c1">//遇到蟲就把它吃掉</span>
</span><span class="hll">        <span class="k">if</span> <span class="o">(</span><span class="n">canSee</span><span class="o">(</span><span class="n">Worm</span><span class="o">.</span><span class="na">class</span><span class="o">))</span> <span class="o">{</span>
</span><span class="hll">            <span class="n">eat</span><span class="o">(</span><span class="n">Worm</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class="hll">        <span class="o">}</span>
</span>    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
<ol class="arabic simple" start="3">
<li>試著放幾隻蟲蟲及螃蟹到World中，並觀螃蟹遇蟲蟲時，是否會吃掉蟲蟲？</li>
</ol>
</div>
<div class="section" id="id8">
<h2>8.加入音效，增加遊戲的趣味性<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p>當螃蟹吃掉蟲，播放適放的聲音。</p>
<ol class="arabic simple">
<li>從Greenfoot類別中，找到與聲音播放有關的方法</li>
</ol>
<div class="highlight-python"><div class="highlight"><pre>static void playSound(java.lang.String soundFile)
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>在專案sounds資料夾中，找到聲音檔「slurp.wav」</li>
<li>找到螃蟹吃掉蟲那一段程式，加入播放音效的程式碼(第25~26行)。</li>
</ol>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">greenfoot.*</span><span class="o">;</span>  <span class="c1">// （ World 、 Actor 、 GreenfootImage 及 Greenfoot ）</span>

<span class="cm">/**</span>
<span class="cm"> * 螃蟹類別的定義。螃蟹生活在沙灘上。</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Crab</span> <span class="kd">extends</span> <span class="n">Animal</span>
<span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">act</span><span class="o">()</span>
    <span class="o">{</span>
        <span class="n">move</span><span class="o">();</span>

        <span class="c1">//遇到邊緣就轉彎</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">atWorldEdge</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">turn</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="c1">//隨機轉彎</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">Greenfoot</span><span class="o">.</span><span class="na">getRandomNumber</span><span class="o">(</span><span class="mi">100</span><span class="o">)</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">turn</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span>
        <span class="o">}</span>
        
        <span class="c1">//遇到蟲就把它吃掉</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">canSee</span><span class="o">(</span><span class="n">Worm</span><span class="o">.</span><span class="na">class</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">eat</span><span class="o">(</span><span class="n">Worm</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="hll">            <span class="c1">//播放聲音</span>
</span><span class="hll">            <span class="n">Greenfoot</span><span class="o">.</span><span class="na">playSound</span><span class="o">(</span><span class="s">&quot;slurp.wav&quot;</span><span class="o">);</span>
</span>        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id9">
<h2>9.用鍵盤控制螃蟹的方向<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<p>在功能表中，選取「幫助」─「Greenfoot類別說明文件」可以查閱Greenfoot所提供的方法。</p>
<img alt="_images/003_011.png" src="_images/003_011.png" />
<p>在Greenfoot類別中有一個方法，用於偵測鍵盤按下的事件，如下：</p>
<div class="highlight-python"><div class="highlight"><pre>static boolean isKeyDown(String key)
</pre></div>
</div>
<ol class="arabic simple">
<li>這個方法是一個靜態方法。(以後再說明何謂靜態方法)</li>
<li>回傳值是boolean，所以可結合if-statement中的條件式</li>
<li>接受一個字串型態的參數</li>
</ol>
<p>判斷使用者是否按下左鍵</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Greenfoot</span><span class="o">.</span><span class="n">isKeyDown</span><span class="p">(</span><span class="s">&quot;left&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>判斷使用者是否按下右鍵</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Greenfoot</span><span class="o">.</span><span class="n">isKeyDown</span><span class="p">(</span><span class="s">&quot;right&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>在螃蟹的act中增加以下的程式碼(第29~36行)：</p>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">greenfoot.*</span><span class="o">;</span>  <span class="c1">// （ World 、 Actor 、 GreenfootImage 及 Greenfoot ）</span>

<span class="cm">/**</span>
<span class="cm"> * 螃蟹類別的定義。螃蟹生活在沙灘上。</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Crab</span> <span class="kd">extends</span> <span class="n">Animal</span>
<span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">act</span><span class="o">()</span>
    <span class="o">{</span>
        <span class="n">move</span><span class="o">();</span>

        <span class="c1">//遇到邊緣就轉彎</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">atWorldEdge</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">turn</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="c1">//隨機轉彎</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">Greenfoot</span><span class="o">.</span><span class="na">getRandomNumber</span><span class="o">(</span><span class="mi">100</span><span class="o">)</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">turn</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span>
        <span class="o">}</span>
        
        <span class="c1">//遇到蟲就把它吃掉</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">canSee</span><span class="o">(</span><span class="n">Worm</span><span class="o">.</span><span class="na">class</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">eat</span><span class="o">(</span><span class="n">Worm</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
            <span class="c1">//播放聲音</span>
            <span class="n">Greenfoot</span><span class="o">.</span><span class="na">playSound</span><span class="o">(</span><span class="s">&quot;slurp.wav&quot;</span><span class="o">);</span>
        <span class="o">}</span>
        
<span class="hll">        <span class="c1">//用方向鍵控制螃蟹轉彎</span>
</span><span class="hll">        <span class="k">if</span> <span class="o">(</span><span class="n">Greenfoot</span><span class="o">.</span><span class="na">isKeyDown</span><span class="o">(</span><span class="s">&quot;left&quot;</span><span class="o">))</span> <span class="o">{</span>
</span><span class="hll">            <span class="n">turn</span><span class="o">(-</span><span class="mi">5</span><span class="o">);</span>
</span><span class="hll">        <span class="o">}</span>
</span><span class="hll">        
</span><span class="hll">        <span class="k">if</span> <span class="o">(</span><span class="n">Greenfoot</span><span class="o">.</span><span class="na">isKeyDown</span><span class="o">(</span><span class="s">&quot;right&quot;</span><span class="o">))</span> <span class="o">{</span>
</span><span class="hll">            <span class="n">turn</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span>
</span><span class="hll">        <span class="o">}</span>
</span>    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id10">
<h2>10.增加會吃螃蟹的龍蝦<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<p>為了讓遊戲更有趣，所以增加會吃螃蟹的龍蝦到專案中，我們希望龍蝦追逐螃蟹，而螃蟹追逐蟲蟲，試著將螃蟹的行為複製給龍蝦。</p>
<p>當螃蟹被龍蝦抓到時，結束遊戲。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Greenfoot</span><span class="o">.</span><span class="n">stop</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="id11">
<h2>觀念複習<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<img alt="_images/003_010.png" src="_images/003_010.png" />
</div>
<div class="section" id="id12">
<h2>教學影片<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h2>
<iframe width="660" height="495" src="https://www.youtube.com/embed/tvbBITk2uXo" frameborder="0" allowfullscreen></iframe>
</div>
</div>
<div class="section" id="homework-1">
<h1>Homework：案例練習─小精靈(1)<a class="headerlink" href="#homework-1" title="Permalink to this headline">¶</a></h1>
<p><a class="reference download internal" href="https://drive.google.com/open?id=0B8fsh0D6-sHncDdMSndRSkQ4VnM"><code class="xref download docutils literal"><span class="pre">案例下載(.zip)</span></code></a></p>
<p>開啟練習檔案pacman。</p>
<img alt="_images/004_001.png" src="_images/004_001.png" />
<div class="section" id="id13">
<h2>解題分析<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<img alt="_images/004_002.png" src="_images/004_002.png" />
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Lesson02：案例研究─沙灘螃蟹(1)</a><ul>
<li><a class="reference internal" href="#id1">1.讓螃蟹往前移動。</a></li>
<li><a class="reference internal" href="#id2">2.讓螃蟹轉彎</a></li>
<li><a class="reference internal" href="#id3">3.讓螃蟹移動加上轉彎</a></li>
<li><a class="reference internal" href="#id4">4.讓螃蟹遇到邊界能自動轉彎</a></li>
<li><a class="reference internal" href="#id5">5.讓螃蟹隨機轉彎</a></li>
<li><a class="reference internal" href="#id6">6.增加螃蟹可以吃的蟲</a></li>
<li><a class="reference internal" href="#id7">7.如何讓螃蟹可以看見並且吃掉的蟲</a></li>
<li><a class="reference internal" href="#id8">8.加入音效，增加遊戲的趣味性</a></li>
<li><a class="reference internal" href="#id9">9.用鍵盤控制螃蟹的方向</a></li>
<li><a class="reference internal" href="#id10">10.增加會吃螃蟹的龍蝦</a></li>
<li><a class="reference internal" href="#id11">觀念複習</a></li>
<li><a class="reference internal" href="#id12">教學影片</a></li>
</ul>
</li>
<li><a class="reference internal" href="#homework-1">Homework：案例練習─小精靈(1)</a><ul>
<li><a class="reference internal" href="#id13">解題分析</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="Lesson01.html" title="previous chapter">Lesson01:案例研究─袋熊吃樹葉</a></li>
      <li>Next: <a href="Lesson03.html" title="next chapter">Lesson03：案例研究─沙灘螃蟹(2)</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/Lesson02.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Jean.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="_sources/Lesson02.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>